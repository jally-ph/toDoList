<!DOCTYPE html>
<html fr>
<head>
	<title>MY To do list</title>
	<meta charset="utf-8">

	<!--boostrap-->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	<!--fonts-->
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display&display=swap" rel="stylesheet">

	<!--css-->
	<link rel="stylesheet" href="style.css">

	<!--favicon-->
	<link rel="icon" type="image" href="img/favicon.png" />

	<!--fontawesome-->
	<link href="fontawesome-free-5.10.2-web/css/all.css" rel="stylesheet">
</head>

<body id="body">


	<script type="text/javascript">



		//all createElement
		let title0 = document.createElement('h1');
		let section1 = document.createElement('section');
		let title1 = document.createElement('h2');
		let list = document.createElement('ul');
		let section2 = document.createElement('section');
		let title2 = document.createElement('h2');
		let form = document.createElement('form');
		let inputText = document.createElement('input');
		let addButton = document.createElement('button');


		//all textContent
		title0.textContent = "TO DO LIST";
		title1.textContent = "A faire";
		title2.textContent = "Ajouter vos tâches";
		addButton.textContent = "+";


		//all id
		section1.id = "section1";
		list.id = "list";
		section2.id = "section2";


		//all input attributes		
		inputText.setAttribute("name","content");
		inputText.setAttribute("id","addItem");


		//all appendChild
		body.appendChild(title0);
		body.appendChild(section1);
		section1.appendChild(title1);
		section1.appendChild(list);
		body.appendChild(section2);
		section2.appendChild(title2);
		section2.appendChild(form);
		form.appendChild(inputText);
		form.appendChild(addButton);




		//objet item
		function Item(content) {
			list = document.getElementById("list");
			li = document.createElement('li');
			list.appendChild(li);
			li.textContent = content;
			addDeleteButton(content);
			addEditButton();			
		}
		

		//tâches d'exemple
		let itemSample1 = new Item("faire la vaisselle");
		let itemSample2 = new Item("voir ce film");
	
		
		
		//f° - add a deleteButton
		function addDeleteButton(){
	
			deleteButton = document.createElement('i');
			deleteButton.className = "fas fa-times-circle";
			deleteButton.addEventListener("click", function(event){
				if ( confirm( "Voulez-vous vraiment supprimer cette tâche ?" ) ) {
				    this.parentElement.remove();
				} else {
				     
				}
			})
			
			li.appendChild(deleteButton);
		}


		//f° - add a editButton
		function addEditButton(){

			editButton = document.createElement('i');
			editButton.className = "fas fa-pen-square";
			editButton.addEventListener('click', function(e){
				
				let valeur = prompt("Changer votre tâche");
				if (valeur != '') {
					let li = this.parentElement;
					li.textContent = valeur;
					addDeleteButton(); 
					addEditButton();
				}
				
			})

			li.appendChild(editButton);
		}
		
		

				
				
		//add a new item
		addButton.addEventListener("click", function(event){
			//supp le comportement par défaut
			event.preventDefault();

			// crée un obj Item et dans le param Content, on met value de l'input	
			let item = new Item(document.getElementById('addItem').value);

			//on remet les compteurs à zéro : l'input est vide
			document.getElementById('addItem').value = '';
		})


		

	
	</script>


</body>
</html>